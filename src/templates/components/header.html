{% load static %}

<style>
    .dropdown-toggle::after {
        display: none;
    }
    #suggestions {
        position: absolute; /* –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–æ–¥–∏—Ç–µ–ª—è */
        z-index: 1000;     /* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã—Å–æ–∫–∏–π z-index, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª –≤—ã—à–µ –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        background-color: white; /* –ó–∞–¥–∞–µ–º —Ñ–æ–Ω –¥–ª—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ */
        border: 1px solid #ccc;  /* –û–±–≤–æ–¥–∫–∞ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ */
        max-height: 200px;       /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Å–ø–∏—Å–∫–∞ */
        overflow-y: auto;        /* –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏, –µ—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        width: 100%;             /* –®–∏—Ä–∏–Ω–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —à–∏—Ä–∏–Ω–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ */
        display: none;           /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã–≤–∞–µ–º –±–ª–æ–∫ */
    }

    #suggestions div {
        padding: 10px;
        cursor: pointer;
        border-bottom: 1px solid #ccc; /* –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ */
    }

    #suggestions div:last-child {
        border-bottom: none; /* –£–±–∏—Ä–∞–µ–º –Ω–∏–∂–Ω—é—é –≥—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ */
    }

    #suggestions div:hover {
        background-color: #f0f0f0; /* –¶–≤–µ—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
    }
    /* –°—Ç–∏–ª–∏ –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–µ–π –∫–∞—Ä—Ç–æ—á–∫–∏ */
    .contact-card {
        display: none;
        position: absolute;
        z-index: 1000;
        background-color: white;
        border: 1px solid #ccc;
        padding: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .header-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 0;
    }
    .center-container {
        display: flex;
        align-items: center; /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
        gap: 15px; /* –û—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –Ω–æ–º–µ—Ä–∞–º–∏ –∏ –∏–∫–æ–Ω–∫–∞–º–∏ */
    }
    .social-links {
        display: flex;
        gap: 10px;
    }
    .social-links a {
        font-size: 24px;
        color: #007bff;
    }
    .contact-info {
        position: relative;
        cursor: pointer;
    }
    .dropdown-toggle::after {
        display: none;
    }
    #suggestions {
        position: absolute;
        z-index: 1000;
        background-color: white;
        border: 1px solid #ccc;
        max-height: 200px;
        overflow-y: auto;
        width: 100%;
        display: none;
    }

    #suggestions div {
        padding: 10px;
        cursor: pointer;
        border-bottom: 1px solid #ccc;
    }
    #suggestions div:last-child {
        border-bottom: none;
    }
    #suggestions div:hover {
        background-color: #f0f0f0;
    }
    .contact-card {
        display: none;
        position: absolute;
        z-index: 1000;
        background-color: white;
        border: 1px solid #ccc;
        padding: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .header-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px 0;
    }
    .center-container {
        display: flex;
        align-items: center;
        gap: 15px;
    }
    .social-links {
        display: flex;
        gap: 10px;
    }
    .social-links a {
        font-size: 24px;
        color: #007bff;
    }
    .contact-info {
        position: relative;
        cursor: pointer;
    }
</style>


<nav class="navbar bg-body-tertiary fixed-top">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div>
            <a class="navbar-brand" href="#"><img src="{% static 'images/logo.webp' %}" alt="–õ–æ–≥–æ—Ç–∏–ø" style="height: 50px;"></a>
        </div>

        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">–ú–µ–Ω—é</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <ul class="navbar-nav flex-grow-1 pe-3 mt-3">
                    <li class="nav-item">
                        <a href="{% url 'services_groups' %}" class="nav-link">–£—Å–ª—É–≥–∏</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'staff_list' %}" class="nav-link">–†–∞–±–æ—Ç–Ω–∏–∫–∏</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'prices' %}" class="nav-link">–¶–µ–Ω—ã</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">–ö–ª–∏–Ω–∏–∫–∞</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{% url 'company' %}">–û –∫–ª–∏–Ω–∏–∫–µ</a></li>
                            <li><a class="dropdown-item" href="{% url 'licenses' %}">–õ–∏—Ü–µ–Ω–∑–∏–∏</a></li>
                            <li><a class="dropdown-item" href="{% url 'requisites' %}">–†–µ–∫–≤–∏–∑–∏—Ç—ã</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'gallery' %}" class="nav-link">–ù–∞—à–∏ —Ä–∞–±–æ—Ç—ã</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'reviews' %}" class="nav-link">–û—Ç–∑—ã–≤—ã</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'contacts' %}" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                    </li>
                </ul>

                <div class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
                    <div style="position: relative;">
                        <input type="text" class="form-control" placeholder="–ü–æ–∏—Å–∫" id="search-input" aria-label="–ü–æ–∏—Å–∫" autocomplete="off">
                        <div id="suggestions"></div>
                    </div>
                    <button class="btn btn-primary w-100 mt-2">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —É—Å–ª—É–≥—É</button> <!-- –ö–Ω–æ–ø–∫–∞ –≤–æ –≤—Å—é —à–∏—Ä–∏–Ω—É -->
                </div>

                <hr>
                
                <div>
                    –ê–¥—Ä–µ—Å: {{ contact.address }} <br>
                    –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã: {{ contact.opening_hours }}
                    <strong>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</strong>
                    <br>
                    –¢–µ–ª–µ—Ñ–æ–Ω üìû: +7 (123) 456-78-90 <br>
                    –¢–µ–ª–µ—Ñ–æ–Ω üìû: +7 (987) 654-32-10 <br>
                    –ü–æ—á—Ç–∞: {{ contact.email }}

                    <a href="{{ contact.whatsapp }}" >{{ media.whatsapp }}</a>
                </div>
                <div class="social-links">
                    <a href="{{ media.tg }}" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 48 48">
                            <path fill="#1976d2" d="M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5 V37z"></path><path fill="#fff" d="M35.937,18.041c0.046-0.151,0.068-0.291,0.062-0.416C35.984,17.263,35.735,17,35.149,17h-2.618 c-0.661,0-0.966,0.4-1.144,0.801c0,0-1.632,3.359-3.513,5.574c-0.61,0.641-0.92,0.625-1.25,0.625C26.447,24,26,23.786,26,23.199 v-5.185C26,17.32,25.827,17,25.268,17h-4.649C20.212,17,20,17.32,20,17.641c0,0.667,0.898,0.827,1,2.696v3.623 C21,24.84,20.847,25,20.517,25c-0.89,0-2.642-3-3.815-6.932C16.448,17.294,16.194,17,15.533,17h-2.643 C12.127,17,12,17.374,12,17.774c0,0.721,0.6,4.619,3.875,9.101C18.25,30.125,21.379,32,24.149,32c1.678,0,1.85-0.427,1.85-1.094 v-2.972C26,27.133,26.183,27,26.717,27c0.381,0,1.158,0.25,2.658,2c1.73,2.018,2.044,3,3.036,3h2.618 c0.608,0,0.957-0.255,0.971-0.75c0.003-0.126-0.015-0.267-0.056-0.424c-0.194-0.576-1.084-1.984-2.194-3.326 c-0.615-0.743-1.222-1.479-1.501-1.879C32.062,25.36,31.991,25.176,32,25c0.009-0.185,0.105-0.361,0.249-0.607 C32.223,24.393,35.607,19.642,35.937,18.041z"></path>
                        </svg>
                    </a>
                    <a href="{{ media.whatsapp }}" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 48 48">
                            <path fill="#fff" d="M4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98c-0.001,0,0,0,0,0h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303z"></path><path fill="#fff" d="M4.868,43.803c-0.132,0-0.26-0.052-0.355-0.148c-0.125-0.127-0.174-0.312-0.127-0.483l2.639-9.636c-1.636-2.906-2.499-6.206-2.497-9.556C4.532,13.238,13.273,4.5,24.014,4.5c5.21,0.002,10.105,2.031,13.784,5.713c3.679,3.683,5.704,8.577,5.702,13.781c-0.004,10.741-8.746,19.48-19.486,19.48c-3.189-0.001-6.344-0.788-9.144-2.277l-9.875,2.589C4.953,43.798,4.911,43.803,4.868,43.803z"></path><path fill="#cfd8dc" d="M24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,4C24.014,4,24.014,4,24.014,4C12.998,4,4.032,12.962,4.027,23.979c-0.001,3.367,0.849,6.685,2.461,9.622l-2.585,9.439c-0.094,0.345,0.002,0.713,0.254,0.967c0.19,0.192,0.447,0.297,0.711,0.297c0.085,0,0.17-0.011,0.254-0.033l9.687-2.54c2.828,1.468,5.998,2.243,9.197,2.244c11.024,0,19.99-8.963,19.995-19.98c0.002-5.339-2.075-10.359-5.848-14.135C34.378,6.083,29.357,4.002,24.014,4L24.014,4z"></path><path fill="#40c351" d="M35.176,12.832c-2.98-2.982-6.941-4.625-11.157-4.626c-8.704,0-15.783,7.076-15.787,15.774c-0.001,2.981,0.833,5.883,2.413,8.396l0.376,0.597l-1.595,5.821l5.973-1.566l0.577,0.342c2.422,1.438,5.2,2.198,8.032,2.199h0.006c8.698,0,15.777-7.077,15.78-15.776C39.795,19.778,38.156,15.814,35.176,12.832z"></path><path fill="#fff" fill-rule="evenodd" d="M19.268,16.045c-0.355-0.79-0.729-0.806-1.068-0.82c-0.277-0.012-0.593-0.011-0.909-0.011c-0.316,0-0.83,0.119-1.265,0.594c-0.435,0.475-1.661,1.622-1.661,3.956c0,2.334,1.7,4.59,1.937,4.906c0.237,0.316,3.282,5.259,8.104,7.161c4.007,1.58,4.823,1.266,5.693,1.187c0.87-0.079,2.807-1.147,3.202-2.255c0.395-1.108,0.395-2.057,0.277-2.255c-0.119-0.198-0.435-0.316-0.909-0.554s-2.807-1.385-3.242-1.543c-0.435-0.158-0.751-0.237-1.068,0.238c-0.316,0.474-1.225,1.543-1.502,1.859c-0.277,0.317-0.554,0.357-1.028,0.119c-0.474-0.238-2.002-0.738-3.815-2.354c-1.41-1.257-2.362-2.81-2.639-3.285c-0.277-0.474-0.03-0.731,0.208-0.968c0.213-0.213,0.474-0.554,0.712-0.831c0.237-0.277,0.316-0.475,0.474-0.791c0.158-0.317,0.079-0.594-0.04-0.831C20.612,19.329,19.69,16.983,19.268,16.045z" clip-rule="evenodd"></path>
                        </svg>
                    </a>
                    <a href="{{ media.tg }}" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 48 48">
                            <path fill="#29b6f6" d="M24 4A20 20 0 1 0 24 44A20 20 0 1 0 24 4Z"></path><path fill="#fff" d="M33.95,15l-3.746,19.126c0,0-0.161,0.874-1.245,0.874c-0.576,0-0.873-0.274-0.873-0.274l-8.114-6.733 l-3.97-2.001l-5.095-1.355c0,0-0.907-0.262-0.907-1.012c0-0.625,0.933-0.923,0.933-0.923l21.316-8.468 c-0.001-0.001,0.651-0.235,1.126-0.234C33.667,14,34,14.125,34,14.5C34,14.75,33.95,15,33.95,15z"></path><path fill="#b0bec5" d="M23,30.505l-3.426,3.374c0,0-0.149,0.115-0.348,0.12c-0.069,0.002-0.143-0.009-0.219-0.043 l0.964-5.965L23,30.505z"></path><path fill="#cfd8dc" d="M29.897,18.196c-0.169-0.22-0.481-0.26-0.701-0.093L16,26c0,0,2.106,5.892,2.427,6.912 c0.322,1.021,0.58,1.045,0.58,1.045l0.964-5.965l9.832-9.096C30.023,18.729,30.064,18.416,29.897,18.196z"></path>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </nav>
<nav class="navbar bg-body-tertiary fixed-top">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div>
            <a class="navbar-brand" href="#"><img src="{% static 'images/logo.webp' %}" alt="–õ–æ–≥–æ—Ç–∏–ø" style="height: 50px;"></a>
        </div>
        
        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">–ú–µ–Ω—é</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">

                <ul class="navbar-nav flex-grow-1 pe-3 mt-3">
                    <li class="nav-item">
                        <a href="{% url 'services_groups' %}" class="nav-link">–£—Å–ª—É–≥–∏</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'staff_list' %}" class="nav-link">–†–∞–±–æ—Ç–Ω–∏–∫–∏</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'prices' %}" class="nav-link">–¶–µ–Ω—ã</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">–ö–ª–∏–Ω–∏–∫–∞</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{% url 'company' %}">–û –∫–ª–∏–Ω–∏–∫–µ</a></li>
                            <li><a class="dropdown-item" href="{% url 'licenses' %}">–õ–∏—Ü–µ–Ω–∑–∏–∏</a></li>
                            <li><a class="dropdown-item" href="{% url 'requisites' %}">–†–µ–∫–≤–∏–∑–∏—Ç—ã</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'gallery' %}" class="nav-link">–ù–∞—à–∏ —Ä–∞–±–æ—Ç—ã</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'reviews' %}" class="nav-link">–û—Ç–∑—ã–≤—ã</a>
                    </li>
                    <li class="nav-item">
                        <a href="{% url 'contacts' %}" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                    </li>
                </ul>

                <div class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
                    <div style="position: relative;">
                        <input type="text" class="form-control" placeholder="–ü–æ–∏—Å–∫" id="search-input" aria-label="–ü–æ–∏—Å–∫" autocomplete="off">
                        <div id="suggestions"></div>
                    </div>
                </div>
            </div>
            <div class="header-container">
                <div>
                    <img src="{% static 'images/logo.png' %}" alt="–õ–æ–≥–æ—Ç–∏–ø" style="height: 50px;">
                </div>
                <div class="center-container">
                    <div>{{contact.address}}</div>
                    <div class="contact-info" id="phoneDropdown">
                        üìû +7 (123) 456-78-90
                        <div class="contact-card" id="contactCard">
                            <strong>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</strong><br>
                            –¢–µ–ª–µ—Ñ–æ–Ω: +7 (123) 456-78-90 <br>
                            –¢–µ–ª–µ—Ñ–æ–Ω: +7 (987) 654-32-10 <br>
                            –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã: {{ contact.opening_hours }}
                        </div>
                    </div>
                    <div class="social-links">
                        <a href="{{ contact.tg }}" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 48 48">
                                <path fill="#1976d2" d="M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5 V37z"></path><path fill="#fff" d="M35.937,18.041c0.046-0.151,0.068-0.291,0.062-0.416C35.984,17.263,35.735,17,35.149,17h-2.618 c-0.661,0-0.966,0.4-1.144,0.801c0,0-1.632,3.359-3.513,5.574c-0.61,0.641-0.92,0.625-1.25,0.625C26.447,24,26,23.786,26,23.199 v-5.185C26,17.32,25.827,17,25.268,17h-4.649C20.212,17,20,17.32,20,17.641c0,0.667,0.898,0.827,1,2.696v3.623 C21,24.84,20.847,25,20.517,25c-0.89,0-2.642-3-3.815-6.932C16.448,17.294,16.194,17,15.533,17h-2.643 C12.127,17,12,17.374,12,17.774c0,0.721,0.6,4.619,3.875,9.101C18.25,30.125,21.379,32,24.149,32c1.678,0,1.85-0.427,1.85-1.094 v-2.972C26,27.133,26.183,27,26.717,27c0.381,0,1.158,0.25,2.658,2c1.73,2.018,2.044,3,3.036,3h2.618 c0.608,0,0.957-0.255,0.971-0.75c0.003-0.126-0.015-0.267-0.056-0.424c-0.194-0.576-1.084-1.984-2.194-3.326 c-0.615-0.743-1.222-1.479-1.501-1.879C32.062,25.36,31.991,25.176,32,25c0.009-0.185,0.105-0.361,0.249-0.607 C32.223,24.393,35.607,19.642,35.937,18.041z"></path>
                            </svg>
                        </a>
                        <a href="{{ contact.whatsapp }}" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 48 48">
                                <path fill="#fff" d="M4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98c-0.001,0,0,0,0,0h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303z"></path><path fill="#fff" d="M4.868,43.803c-0.132,0-0.26-0.052-0.355-0.148c-0.125-0.127-0.174-0.312-0.127-0.483l2.639-9.636c-1.636-2.906-2.499-6.206-2.497-9.556C4.532,13.238,13.273,4.5,24.014,4.5c5.21,0.002,10.105,2.031,13.784,5.713c3.679,3.683,5.704,8.577,5.702,13.781c-0.004,10.741-8.746,19.48-19.486,19.48c-3.189-0.001-6.344-0.788-9.144-2.277l-9.875,2.589C4.953,43.798,4.911,43.803,4.868,43.803z"></path><path fill="#cfd8dc" d="M24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,4C24.014,4,24.014,4,24.014,4C12.998,4,4.032,12.962,4.027,23.979c-0.001,3.367,0.849,6.685,2.461,9.622l-2.585,9.439c-0.094,0.345,0.002,0.713,0.254,0.967c0.19,0.192,0.447,0.297,0.711,0.297c0.085,0,0.17-0.011,0.254-0.033l9.687-2.54c2.828,1.468,5.998,2.243,9.197,2.244c11.024,0,19.99-8.963,19.995-19.98c0.002-5.339-2.075-10.359-5.848-14.135C34.378,6.083,29.357,4.002,24.014,4L24.014,4z"></path><path fill="#40c351" d="M35.176,12.832c-2.98-2.982-6.941-4.625-11.157-4.626c-8.704,0-15.783,7.076-15.787,15.774c-0.001,2.981,0.833,5.883,2.413,8.396l0.376,0.597l-1.595,5.821l5.973-1.566l0.577,0.342c2.422,1.438,5.2,2.198,8.032,2.199h0.006c8.698,0,15.777-7.077,15.78-15.776C39.795,19.778,38.156,15.814,35.176,12.832z"></path><path fill="#fff" fill-rule="evenodd" d="M19.268,16.045c-0.355-0.79-0.729-0.806-1.068-0.82c-0.277-0.012-0.593-0.011-0.909-0.011c-0.316,0-0.83,0.119-1.265,0.594c-0.435,0.475-1.661,1.622-1.661,3.956c0,2.334,1.7,4.59,1.937,4.906c0.237,0.316,3.282,5.259,8.104,7.161c4.007,1.58,4.823,1.266,5.693,1.187c0.87-0.079,2.807-1.147,3.202-2.255c0.395-1.108,0.395-2.057,0.277-2.255c-0.119-0.198-0.435-0.316-0.909-0.554s-2.807-1.385-3.242-1.543c-0.435-0.158-0.751-0.237-1.068,0.238c-0.316,0.474-1.225,1.543-1.502,1.859c-0.277,0.317-0.554,0.357-1.028,0.119c-0.474-0.238-2.002-0.738-3.815-2.354c-1.41-1.257-2.362-2.81-2.639-3.285c-0.277-0.474-0.03-0.731,0.208-0.968c0.213-0.213,0.474-0.554,0.712-0.831c0.237-0.277,0.316-0.475,0.474-0.791c0.158-0.317,0.079-0.594-0.04-0.831C20.612,19.329,19.69,16.983,19.268,16.045z" clip-rule="evenodd"></path>
                            </svg>
                        </a>
                        <a href="{{ contact.tg }}" target="_blank">
                            <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 48 48">
                                <path fill="#29b6f6" d="M24 4A20 20 0 1 0 24 44A20 20 0 1 0 24 4Z"></path><path fill="#fff" d="M33.95,15l-3.746,19.126c0,0-0.161,0.874-1.245,0.874c-0.576,0-0.873-0.274-0.873-0.274l-8.114-6.733 l-3.97-2.001l-5.095-1.355c0,0-0.907-0.262-0.907-1.012c0-0.625,0.933-0.923,0.933-0.923l21.316-8.468 c-0.001-0.001,0.651-0.235,1.126-0.234C33.667,14,34,14.125,34,14.5C34,14.75,33.95,15,33.95,15z"></path><path fill="#b0bec5" d="M23,30.505l-3.426,3.374c0,0-0.149,0.115-0.348,0.12c-0.069,0.002-0.143-0.009-0.219-0.043 l0.964-5.965L23,30.505z"></path><path fill="#cfd8dc" d="M29.897,18.196c-0.169-0.22-0.481-0.26-0.701-0.093L16,26c0,0,2.106,5.892,2.427,6.912 c0.322,1.021,0.58,1.045,0.58,1.045l0.964-5.965l9.832-9.096C30.023,18.729,30.064,18.416,29.897,18.196z"></path>
                            </svg>
                        </a>
                    </div>
                </div>
                <div>
                    <button class="btn btn-primary">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —É—Å–ª—É–≥—É</button>
                </div>
            </div>
        </div>
    </div>
</nav>

<div class="container">
    <div class="header-container">
        <!-- –õ–æ–≥–æ—Ç–∏–ø —Å–ª–µ–≤–∞ -->
        <div>
            <img src="{% static 'images/logo.png' %}" alt="–õ–æ–≥–æ—Ç–∏–ø" style="height: 50px;">
        </div>
        
        <!-- –¶–µ–Ω—Ç—Ä: –∞–¥—Ä–µ—Å, –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ -->
        <div class="center-container">
            <div>{{contact.address}}</div>
            <div class="contact-info" id="phoneDropdown">
                üìû +7 (123) 456-78-90
                <div class="contact-card" id="contactCard">
                    –ê–¥—Ä–µ—Å: {{ contact.address }} <br>
                    –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã: {{ contact.opening_hours }}
                    <strong>–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</strong>
                    <br>
                    –¢–µ–ª–µ—Ñ–æ–Ω üìû: +7 (123) 456-78-90 <br>
                    –¢–µ–ª–µ—Ñ–æ–Ω üìû: +7 (987) 654-32-10 <br>
                    –ü–æ—á—Ç–∞: {{ contact.email }}
                </div>
            </div>
            <div class="social-links">
                <a href="{{ media.tg }}" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 48 48">
                        <path fill="#1976d2" d="M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5 V37z"></path><path fill="#fff" d="M35.937,18.041c0.046-0.151,0.068-0.291,0.062-0.416C35.984,17.263,35.735,17,35.149,17h-2.618 c-0.661,0-0.966,0.4-1.144,0.801c0,0-1.632,3.359-3.513,5.574c-0.61,0.641-0.92,0.625-1.25,0.625C26.447,24,26,23.786,26,23.199 v-5.185C26,17.32,25.827,17,25.268,17h-4.649C20.212,17,20,17.32,20,17.641c0,0.667,0.898,0.827,1,2.696v3.623 C21,24.84,20.847,25,20.517,25c-0.89,0-2.642-3-3.815-6.932C16.448,17.294,16.194,17,15.533,17h-2.643 C12.127,17,12,17.374,12,17.774c0,0.721,0.6,4.619,3.875,9.101C18.25,30.125,21.379,32,24.149,32c1.678,0,1.85-0.427,1.85-1.094 v-2.972C26,27.133,26.183,27,26.717,27c0.381,0,1.158,0.25,2.658,2c1.73,2.018,2.044,3,3.036,3h2.618 c0.608,0,0.957-0.255,0.971-0.75c0.003-0.126-0.015-0.267-0.056-0.424c-0.194-0.576-1.084-1.984-2.194-3.326 c-0.615-0.743-1.222-1.479-1.501-1.879C32.062,25.36,31.991,25.176,32,25c0.009-0.185,0.105-0.361,0.249-0.607 C32.223,24.393,35.607,19.642,35.937,18.041z"></path>
                    </svg>
                </a>
                <a href="{{ media.whatsapp }}" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 48 48">
                        <path fill="#fff" d="M4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98c-0.001,0,0,0,0,0h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303z"></path><path fill="#fff" d="M4.868,43.803c-0.132,0-0.26-0.052-0.355-0.148c-0.125-0.127-0.174-0.312-0.127-0.483l2.639-9.636c-1.636-2.906-2.499-6.206-2.497-9.556C4.532,13.238,13.273,4.5,24.014,4.5c5.21,0.002,10.105,2.031,13.784,5.713c3.679,3.683,5.704,8.577,5.702,13.781c-0.004,10.741-8.746,19.48-19.486,19.48c-3.189-0.001-6.344-0.788-9.144-2.277l-9.875,2.589C4.953,43.798,4.911,43.803,4.868,43.803z"></path><path fill="#cfd8dc" d="M24.014,5c5.079,0.002,9.845,1.979,13.43,5.566c3.584,3.588,5.558,8.356,5.556,13.428c-0.004,10.465-8.522,18.98-18.986,18.98h-0.008c-3.177-0.001-6.3-0.798-9.073-2.311L4.868,43.303l2.694-9.835C5.9,30.59,5.026,27.324,5.027,23.979C5.032,13.514,13.548,5,24.014,5 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974C24.014,42.974,24.014,42.974,24.014,42.974 M24.014,4C24.014,4,24.014,4,24.014,4C12.998,4,4.032,12.962,4.027,23.979c-0.001,3.367,0.849,6.685,2.461,9.622l-2.585,9.439c-0.094,0.345,0.002,0.713,0.254,0.967c0.19,0.192,0.447,0.297,0.711,0.297c0.085,0,0.17-0.011,0.254-0.033l9.687-2.54c2.828,1.468,5.998,2.243,9.197,2.244c11.024,0,19.99-8.963,19.995-19.98c0.002-5.339-2.075-10.359-5.848-14.135C34.378,6.083,29.357,4.002,24.014,4L24.014,4z"></path><path fill="#40c351" d="M35.176,12.832c-2.98-2.982-6.941-4.625-11.157-4.626c-8.704,0-15.783,7.076-15.787,15.774c-0.001,2.981,0.833,5.883,2.413,8.396l0.376,0.597l-1.595,5.821l5.973-1.566l0.577,0.342c2.422,1.438,5.2,2.198,8.032,2.199h0.006c8.698,0,15.777-7.077,15.78-15.776C39.795,19.778,38.156,15.814,35.176,12.832z"></path><path fill="#fff" fill-rule="evenodd" d="M19.268,16.045c-0.355-0.79-0.729-0.806-1.068-0.82c-0.277-0.012-0.593-0.011-0.909-0.011c-0.316,0-0.83,0.119-1.265,0.594c-0.435,0.475-1.661,1.622-1.661,3.956c0,2.334,1.7,4.59,1.937,4.906c0.237,0.316,3.282,5.259,8.104,7.161c4.007,1.58,4.823,1.266,5.693,1.187c0.87-0.079,2.807-1.147,3.202-2.255c0.395-1.108,0.395-2.057,0.277-2.255c-0.119-0.198-0.435-0.316-0.909-0.554s-2.807-1.385-3.242-1.543c-0.435-0.158-0.751-0.237-1.068,0.238c-0.316,0.474-1.225,1.543-1.502,1.859c-0.277,0.317-0.554,0.357-1.028,0.119c-0.474-0.238-2.002-0.738-3.815-2.354c-1.41-1.257-2.362-2.81-2.639-3.285c-0.277-0.474-0.03-0.731,0.208-0.968c0.213-0.213,0.474-0.554,0.712-0.831c0.237-0.277,0.316-0.475,0.474-0.791c0.158-0.317,0.079-0.594-0.04-0.831C20.612,19.329,19.69,16.983,19.268,16.045z" clip-rule="evenodd"></path>
                    </svg>
                </a>
                <a href="{{ media.tg }}" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 48 48">
                        <path fill="#29b6f6" d="M24 4A20 20 0 1 0 24 44A20 20 0 1 0 24 4Z"></path><path fill="#fff" d="M33.95,15l-3.746,19.126c0,0-0.161,0.874-1.245,0.874c-0.576,0-0.873-0.274-0.873-0.274l-8.114-6.733 l-3.97-2.001l-5.095-1.355c0,0-0.907-0.262-0.907-1.012c0-0.625,0.933-0.923,0.933-0.923l21.316-8.468 c-0.001-0.001,0.651-0.235,1.126-0.234C33.667,14,34,14.125,34,14.5C34,14.75,33.95,15,33.95,15z"></path><path fill="#b0bec5" d="M23,30.505l-3.426,3.374c0,0-0.149,0.115-0.348,0.12c-0.069,0.002-0.143-0.009-0.219-0.043 l0.964-5.965L23,30.505z"></path><path fill="#cfd8dc" d="M29.897,18.196c-0.169-0.22-0.481-0.26-0.701-0.093L16,26c0,0,2.106,5.892,2.427,6.912 c0.322,1.021,0.58,1.045,0.58,1.045l0.964-5.965l9.832-9.096C30.023,18.729,30.064,18.416,29.897,18.196z"></path>
                    </svg>
                </a>
            </div>
        </div>
        <div>
            <button class="btn btn-primary">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —É—Å–ª—É–≥—É</button>
        </div>
    </div>
</div>

<div class="container">
    <header class="p-3 mb-3 border-bottom">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                <li>
                    <a 
                        href="{% url 'services_groups' %}"
                        class="nav-link px-2 {% if active_page == 'services' %}link-secondary{% else %}link-body-emphasis{% endif %}"
                    >
                        –£—Å–ª—É–≥–∏
                    </a>
                </li>
                <li>
                    <a 
                        href="{% url 'staff_list' %}"
                        class="nav-link px-2 {% if active_page == 'staff' %}link-secondary{% else %}link-body-emphasis{% endif %}"
                    >
                        –†–∞–±–æ—Ç–Ω–∏–∫–∏
                    </a>
                </li>
                <li>
                    <a 
                        href="{% url 'prices' %}"
                        class="nav-link px-2 {% if active_page == 'prices' %}link-secondary{% else %}link-body-emphasis{% endif %}"
                    >
                        –¶–µ–Ω—ã
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link px-2 {% if active_page == 'clinic' %}link-secondary{% else %}link-body-emphasis{% endif %} dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        –ö–ª–∏–Ω–∏–∫–∞
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{% url 'company' %}">–û –∫–ª–∏–Ω–∏–∫–µ</a></li>
                        <li><a class="dropdown-item" href="{% url 'licenses' %}">–õ–∏—Ü–µ–Ω–∑–∏–∏</a></li>
                        <li><a class="dropdown-item" href="{% url 'requisites' %}">–†–µ–∫–≤–∏–∑–∏—Ç—ã</a></li>
                    </ul>
                </li>
                <li>
                    <a 
                        href="{% url 'gallery' %}"
                        class="nav-link px-2 {% if active_page == 'works' %}link-secondary{% else %}link-body-emphasis{% endif %}"
                    >
                        –ù–∞—à–∏ —Ä–∞–±–æ—Ç—ã
                    </a>
                </li>
                <li>
                    <a 
                        href="{% url 'reviews' %}" 
                        class="nav-link px-2 {% if active_page == 'reviews' %}link-secondary{% else %}link-body-emphasis{% endif %}"
                    >
                        –û—Ç–∑—ã–≤—ã
                    </a>
                </li>
                <li>
                    <a 
                        href="{% url 'contacts' %}"
                        class="nav-link px-2 {% if active_page == 'contacts' %}link-secondary{% else %}link-body-emphasis{% endif %}"
                    >
                        –ö–æ–Ω—Ç–∞–∫—Ç—ã
                    </a>
                </li>
            </ul>

            <div class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
                <div style="position: relative;"> <!-- –ù–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
                    <input type="text" class="form-control" placeholder="–ü–æ–∏—Å–∫" id="search-input" aria-label="–ü–æ–∏—Å–∫" autocomplete="off">
                    <div id="suggestions"></div>
                </div>
            </div>
        </div>
    </header>
</div>

<script>
    $(document).ready(function() {
        // –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
        $('#phoneDropdown').on('mouseenter', function() {
            $('#contactCard').show();
        }).on('mouseleave', function() {
            $('#contactCard').hide();
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –≤–Ω–µ –æ–±–ª–∞—Å—Ç–∏
        $(document).on('click', function(event) {
            if (!$(event.target).closest('#contactCard').length && !$(event.target).is('#phoneDropdown')) {
                $('#contactCard').hide();
            }
        });
    });

    $(document).ready(function() {
    function fetchSuggestions(query) {
        $.ajax({
            url: "{% url 'search' %}",  // –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–æ—Ç URL –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
            data: { 'query': query },
            dataType: 'json',
            success: function(data) {
                $('#suggestions').empty().show(); // –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
                let allResults = [];
                // –ü–µ—Ä–µ–±–æ—Ä –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ data
                data.forEach(item => {
                    if (item.type === 'staff' && item.data) {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π –¥–ª—è staff
                        if (item.data.fio && item.data.url) {
                            allResults.push({
                                type: 'staff',
                                name: item.data.fio,
                                url: item.data.url
                            });
                        }
                    } else if (item.type === 'service' && item.data) {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π –¥–ª—è service
                        if (item.data.name && item.data.url) {
                            allResults.push({
                                type: 'service',
                                name: item.data.name,
                                url: item.data.url
                            });
                        }
                    } else if (item.type === 'service_group' && item.data) {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π –¥–ª—è service_group
                        if (item.data.name && item.data.url) {
                            allResults.push({
                                type: 'service_group',
                                name: item.data.name,
                                url: item.data.url
                            });
                        }
                    } else if (item.type === 'work' && item.data) {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π –¥–ª—è work
                        if (item.data.name && item.data.url) {
                            allResults.push({
                                type: 'work',
                                name: item.data.name,
                                url: item.data.url
                            });
                        }
                    } else if (item.type === 'license' && item.data) {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π –¥–ª—è license
                        if (item.data.name && item.data.url) {
                            allResults.push({
                                type: 'license',
                                name: item.data.name,
                                url: item.data.url
                            });
                        }
                    } else if (item.type === 'page' && item.data) {
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω—É–∂–Ω—ã—Ö –ø–æ–ª–µ–π –¥–ª—è page
                        if (item.data.title && item.data.url) {
                            allResults.push({
                                type: 'page',
                                name: item.data.title,
                                url: item.data.url
                            });
                        }
                    }
                });
                // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
                console.log('–í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:', allResults);
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
                console.log('–í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:', allResults); // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                if (allResults.length > 0) {
                    $.each(allResults, function(index, result) {
                        $('#suggestions').append('<div><a href="' + (result.url || '#') + '">' + result.name + '</a></div>');
                    });
                } else {
                    console.log('–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.'); // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                }
            },
            error: function() {
                $('#suggestions').hide(); // –°–∫—Ä—ã—Ç—å, –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞
            }
        });
    }

    $('#search-input').on('keyup', function() {
        let query = $(this).val();
        if (query.length > 2) {
            fetchSuggestions(query);
        } else {
            $('#suggestions').hide();
        }
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—é
    $(document).on('click', '#suggestions div', function() {
        $('#search-input').val($(this).text());
        $('#suggestions').hide(); // –°–∫—Ä—ã—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞
    });

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à–∏ Enter
    $('#search-input').on('keydown', function(event) {
        if (event.key === 'Enter') {
            window.location.href = '/search/?query=' + encodeURIComponent($(this).val());
        }
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ
    $(document).on('click', function(event) {
        if (!$(event.target).closest('#search-input').length && !$(event.target).closest('#suggestions').length) {
            $('#suggestions').hide();
        }
    });

        // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ
        $('#search-input').on('focus', function() {
            let query = $(this).val();
            if (query.length > 2) {
                fetchSuggestions(query);
            }
        });
    });

    $(document).ready(function() {
        $('#phoneDropdown').on('mouseenter', function() {
            $('#contactCard').show();
        }).on('mouseleave', function() {
            $('#contactCard').hide();
        });

    $(document).on('click', function(event) {
        if (!$(event.target).closest('#contactCard').length && !$(event.target).is('#phoneDropdown')) {
            $('#contactCard').hide();
        }
    });

    $(document).on('click', function(event) {
        if (!$(event.target).closest('#search-input').length && !$(event.target).closest('#suggestions').length) {
            $('#suggestions').hide();
        }
    });

    $('#search-input').on('focus', function() {
        let query = $(this).val();
        if (query.length > 2) {
            fetchSuggestions(query);
        }
    });

    $('#search-input').on('keyup', function() {
        let query = $(this).val();
        if (query.length > 2) {
            fetchSuggestions(query);
        } else {
            $('#suggestions').hide();
        }
    });

    $(document).on('click', '#suggestions div', function() {
        $('#search-input').val($(this).text());
        $('#suggestions').hide();
    });

    $('#search-input').on('keydown', function(event) {
        if (event.key === 'Enter') {
            window.location.href = '/search/?query=' + encodeURIComponent($(this).val());
        }
    });

    function fetchSuggestions(query) {
        $.ajax({
            url: "{% url 'search' %}",
            data: { 'query': query },
            dataType: 'json',
            success: function(data) {
                $('#suggestions').empty().show();
                let allResults = [];
                data.forEach(item => {
                    if (item.data && item.data.name && item.data.url) {
                        allResults.push({ name: item.data.name, url: item.data.url });
                    }
                });
                if (allResults.length > 0) {
                    $.each(allResults, function(index, result) {
                        $('#suggestions').append('<div><a href="' + result.url + '">' + result.name + '</a></div>');
                    });
                }
            },
            error: function() {$('#suggestions').hide();}
            });
        }
    });
</script>